---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { getEntry } from "astro:content";
import { Image } from "astro:assets";

const {
  data: {
    meta_title,
    meta_description,
    sections: { who_we_are, what_makes_us, why_we_exist },
    scroll_speeds,
    blobs = [],
    furries,
  },
} = await getEntry("pages", "about");
---

<BaseLayout
  title={meta_title}
  description={meta_description}
  scroll_speeds={{ nav: 1, footer: 1 }}
>
  <div class="relative pt-56 max-w-6xl mx-auto mb-56 mt-16" data-scroll-section>
    <div class:list={["mx-auto", furries.who_we_are.class]}>
      <Image
        src={furries.who_we_are.src}
        alt=""
        class="brightness-[0.9]"
        data-scroll
        data-scroll-speed={furries.who_we_are.scroll_speed}
      />
    </div>
    <div
      class="z-40 mr-auto px-6 md:px-10"
      data-scroll
      data-scroll-speed={who_we_are.scroll_speed}
    >
      <h2 class="sr-only">Who we are</h2>
      <div class="flex flex-wrap gap-x-6">
        <div
          class="text-7xl sm:text-8xl md:text-8xl lg:text-[10rem] uppercase font-black
        text-transparent bg-clip-text text-white drop-shadow-custom font-heading lg:w-full"
          aria-hidden
        >
          Who we
        </div>
        <div
          class:list={[
            who_we_are.gradient,
            "text-7xl sm:text-8xl md:text-8xl lg:text-[10rem] uppercase font-black   text-transparent bg-clip-text drop-shadow-custom font-heading",
          ]}
          aria-hidden
        >
          are
        </div>
        <span
          class="font-bold font-body text-md sm:text-lg md:text-xl lg:text-2xl pt-2 flex-1 max-w-2xl lg:max-w-xl basis-full lg:basis-auto mb-4 lg:mb-0"
        >
          {who_we_are.text}
        </span>
      </div>
      <div
        class="grid auto-rows-[100px] md:auto-rows-[150px] grid-cols-3 gap-8 overflow-hidden bg-transparent"
      >
        {
          who_we_are.bentos.map(({ src, alt, class: customClass }: any) =>
            src ? (
              <Image
                src={src}
                alt={alt}
                class:list={[customClass, `w-full h-full rounded-xl`]}
              />
            ) : (
              <p>{alt}</p>
            )
          )
        }
      </div>
    </div>
  </div>
  <div class="relative max-w-6xl mx-auto mb-56" data-scroll-section>
    <div class:list={["mx-auto", furries.what_makes_us.class]}>
      <Image
        src={furries.what_makes_us.src}
        alt=""
        class="brightness-[0.9] w-[1200px]"
        data-scroll
        data-scroll-speed={furries.what_makes_us.scroll_speed}
      />
    </div>
    <div
      class="z-40 ml-auto px-6 md:px-10"
      data-scroll
      data-scroll-speed={what_makes_us.scroll_speed}
    >
      <h2 class="sr-only">What makes us us</h2>
      <div class="flex flex-wrap justify-end gap-x-6 text-right">
        <div
          class="text-7xl sm:text-8xl md:text-8xl lg:text-[10rem] uppercase font-black
        text-transparent bg-clip-text text-white drop-shadow-custom font-heading basis-auto lg:basis-full"
          aria-hidden
        >
          What<br /> makes us
        </div>
        <span
          class="font-bold font-body text-md sm:text-lg md:text-xl lg:text-2xl pt-2 flex-1 max-w-2xl lg:max-w-2xl basis-full lg:basis-auto order-3 lg:order-2 mb-4 lg:mb-0"
        >
          {what_makes_us.text}
        </span>
        <div
          class:list={[
            what_makes_us.gradient,
            "text-7xl sm:text-8xl lg:text-8xl lg:text-[10rem] uppercase font-black text-transparent bg-clip-text drop-shadow-custom font-heading basis-full order-2 lg:basis-auto lg:order-3",
          ]}
          aria-hidden
        >
          us
        </div>
      </div>
      <div
        class="grid auto-rows-[100px] md:auto-rows-[150px] grid-cols-3 gap-8 overflow-hidden bg-transparent mt-8 md:mt-0"
      >
        {
          who_we_are.bentos.map(({ src, alt, class: customClass }: any) =>
            src ? (
              <Image
                src={src}
                alt={alt}
                class:list={[customClass, `w-full h-full rounded-xl`]}
              />
            ) : (
              <p>{alt}</p>
            )
          )
        }
      </div>
    </div>
  </div>
  <div class="relative max-w-6xl mx-auto mb-24" data-scroll-section>
    <div
      class="z-40 mr-auto px-6 md:px-10"
      data-scroll
      data-scroll-speed={what_makes_us.scroll_speed}
    >
      <h2 class="sr-only">Why we exist</h2>
      <div class="flex flex-wrap gap-x-6">
        <div
          class="text-7xl sm:text-8xl md:text-8xl lg:text-[10rem] uppercase font-black
        text-transparent bg-clip-text text-white drop-shadow-custom font-heading lg:w-full"
          aria-hidden
        >
          Why we
        </div>
        <div
          class:list={[
            why_we_exist.gradient,
            "text-7xl sm:text-8xl md:text-8xl lg:text-[10rem] uppercase font-black text-transparent bg-clip-text drop-shadow-custom font-heading",
          ]}
          aria-hidden
        >
          exist
        </div>
        <span
          class="font-bold font-body text-md sm:text-lg md:text-xl lg:text-2xl pt-2 flex-1 max-w-2xl lg:max-w-lg basis-full lg:basis-auto mb-4 lg:mb-0"
        >
          {why_we_exist.text}
        </span>
        <div
          class="grid auto-rows-[100px] md:auto-rows-[150px] grid-cols-3 gap-8 overflow-hidden bg-transparent mt-8 md:mt-0"
        >
          {
            who_we_are.bentos.map(({ src, alt, class: customClass }: any) =>
              src ? (
                <Image
                  src={src}
                  alt={alt}
                  class:list={[customClass, `w-full h-full rounded-xl`]}
                />
              ) : (
                <p class:list={[customClass]}>{alt}</p>
              )
            )
          }
        </div>
      </div>
    </div>
  </div>
  <div>
    {
      blobs.map((blob: any) => (
        <div class:list={["absolute max-w-6xl w-full mx-auto", blob.class]}>
          <div
            data-scroll
            data-scroll-speed={blob.scroll_speed}
            data-scroll-position="top"
            data-scroll-direction="horizontal"
            data-scroll-target="#page"
          >
            <Image alt="" src={blob.src} />
          </div>
        </div>
      ))
    }
  </div>
  <div class:list={[furries.footer.class]}>
    <Image
      src={furries.footer.src}
      alt=""
      class="brightness-[0.9] overflow-hidden"
      data-scroll-id="nephex-footer"
      data-scroll
      data-scroll-speed={furries.footer.scroll_speed}
      data-scroll-position="bottom"
      data-scroll-direction="vertical"
    />
  </div>
</BaseLayout>
